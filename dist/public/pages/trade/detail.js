webpackJsonp([4],{"1nuA":function(t,e,n){"use strict";e.decode=e.parse=n("kMPS"),e.encode=e.stringify=n("xaZU")},"6N2J":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("6UCX"),s=n("1nuA"),r=n.n(s),i=n("kIFb"),o={data:function(){return{detail:null}},mounted:function(){var t=this,e=r.a.parse(location.search.slice(1));if(!e.contractId)return this.$message.error("参数有误"),void setTimeout(function(){location.href="/pages/user/index.html"},1e3);this.loadContract(e.contractId).then(function(e){return t.loadResourcesDetail(e.resourceId).then(function(t){return{contract:e,resource:t}})}).then(this.format.bind(this)).then(function(e){t.detail=e})},methods:{format:function(t){return t._statusInfo=i.b[t.contract.status],t},loadResourcesDetail:function(t){var e=this;return new Promise(function(n){e.$axios.get("/v1/resources/"+t).then(function(t){n(0===t.data.errcode?t.data.data:null)}).catch(function(){n(null)})})},loadContract:function(t){return this.$axios.get("/v1/contracts/"+t).then(function(t){if(0===t.data.errcode)return t.data.data;throw new Error(t.data.msg)}).catch(function(t){console.log(t)})}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main-app"}},[n("h3",{staticStyle:{"margin-bottom":"15px"}},[t._v("合同详情")]),t._v(" "),t.detail?n("el-form",{staticClass:"small-el-form",attrs:{"label-width":"100px"}},[n("el-form-item",{staticClass:"form-label",attrs:{label:"合同ID"}},[t._v("\n      "+t._s(t.detail.contract.contractId)+"\n    ")]),t._v(" "),n("el-form-item",{staticClass:"form-label",attrs:{label:"甲方"}},[t._v("\n      "+t._s(t.detail.contract.partyOne)+"\n    ")]),t._v(" "),n("el-form-item",{staticClass:"form-label",attrs:{label:"乙方"}},[t._v("\n      "+t._s(t.detail.contract.partyTwo)+"\n    ")]),t._v(" "),n("el-form-item",{staticClass:"form-label",attrs:{label:"资源名称"}},[t._v("\n      "+t._s(t.detail.resource.resourceName)+"\n    ")]),t._v(" "),n("el-form-item",{staticClass:"form-label",attrs:{label:"资源类型"}},[t._v("\n      "+t._s(t.detail.resource.resourceType)+"\n    ")]),t._v(" "),n("el-form-item",{staticClass:"form-label",attrs:{label:"合同创建时间"}},[t._v("\n      "+t._s(t._f("fmtDate")(t.detail.contract.createDate))+"\n    ")]),t._v(" "),n("el-form-item",{staticClass:"form-label",attrs:{label:"状态"}},[t._v("\n      "+t._s(t.detail._statusInfo.desc)+"\n    ")]),t._v(" "),n("el-form-item",{staticClass:"form-label",attrs:{label:"状态"}},[n("pre",[t._v(t._s(t.detail.contract.policySegment.segmentText))])])],1):t._e()],1)},staticRenderFns:[]},l=n("VU/8")(o,c,!1,function(t){n("Q/IK")},"data-v-398ae30c",null).exports;new a.a({el:"#main-app",render:function(t){return t(l)}})},"6UCX":function(t,e,n){"use strict";var a=n("G3VR"),s=n("dW81"),r=n("NYxO"),i={name:"user-aside-nav",data:function(){return{activeNavName:"my-accounts",navs:[{title:"我的关注",name:"my-collections"},{title:"我的资源",name:"my-resources"},{title:"我的账户",name:"my-accounts"},{title:"资料与账号",name:"my-profile"}]}},computed:Object(r.b)({user:"session"}),mounted:function(){var t=this;this.user&&this.user.userId||this.$vuex.dispatch("getCurrentUserInfo").then(function(e){t.changePanel()})},methods:{switchNavHandler:function(t){this.activeNavName=t.name,this.changePanel()},changePanel:function(){this.$store.dispatch("changePanel",this.activeNavName)}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("el-aside",{staticClass:"user-aside-nav-wrap",attrs:{width:"260px"}},[n("div",{staticClass:"user-portrait"},[n("div",{staticClass:"center"},[n("a",{attrs:{href:"/pages/user/index.html"}},[n("img",{staticClass:"portrait-img",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRb_dez7L9rZGrxliWIWRzbH6H0u0BMePCrTB6wVbLtcfrAMKII",alt:""}})]),t._v(" "),n("p",{staticClass:"user-name"},[t._v(t._s(t.user.nickname))])])]),t._v(" "),n("ul",{staticClass:"user-nav-tabs"},t._l(t.navs,function(e,a){return n("li",{staticClass:"user-nav-item",class:{active:e.name===t.activeNavName},attrs:{"nav-name":e.name},on:{click:function(n){t.switchNavHandler(e)}}},[t._v("\n      "+t._s(e.title)+"\n    ")])}))]):t._e()},staticRenderFns:[]},c=n("VU/8")(i,o,!1,function(t){n("eDbg")},"data-v-2295e0b3",null).exports,l={data:function(){return{}},computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t})({},Object(r.b)({personal:"personal"}),{themeCls:function(){var t="white";switch(this.personal.panelName){case"my-accounts":t="transparent";break;default:t="white"}return t}}),mounted:function(){},components:{NavTopBar:s.a,UserAsideNav:c},methods:{}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav-top-bar"),this._v(" "),e("el-container",{staticClass:"app-container"},[e("user-aside-nav"),this._v(" "),e("el-main",{staticClass:"main-app-content",class:[this.themeCls]},[e("div",{attrs:{id:"main-app"}})])],1)],1)},staticRenderFns:[]},d=n("VU/8")(l,u,!1,function(t){n("SBTx")},"data-v-d1be6906",null).exports,f=n("IcnI");new a.a({el:"#app",store:f.a,render:function(t){return t(d)}});e.a=a.a},"Q/IK":function(t,e,n){},SBTx:function(t,e,n){},dW81:function(t,e,n){"use strict";var a=n("NYxO"),s={name:"nav-top-bar",data:function(){return{}},computed:Object(a.b)({userInfo:"session"}),mounted:function(){this.syncUserSession(),this.listenWindowVisibility()},methods:{listenWindowVisibility:function(){function t(t){var n="visible",s="hidden",r={focus:n,focusin:n,pageshow:n,blur:s,focusout:s,pagehide:s};"visible"===((t=t||window.event).type in r?r[t.type]:this[e]?"hidden":"visible")&&a.syncUserSession()}var e="hidden",n=document,a=this;e in n?n.addEventListener("visibilitychange",t):(e="mozHidden")in n?n.addEventListener("mozvisibilitychange",t):(e="webkitHidden")in n?n.addEventListener("webkitvisibilitychange",t):(e="msHidden")in n?n.addEventListener("msvisibilitychange",t):window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t},syncUserSession:function(){var t=this;this.$store.dispatch("checkUserSession").then(function(e){e||t.$store.dispatch("loadCurrentUserInfo").then(function(){location.reload()})})},logoutHandler:function(){var t=this;this.$axios.get("/v1/passport/logout").then(function(){t.$vuex.dispatch("userLogout").then(function(){setTimeout(function(){location.replace("/pages/user/login.html")},20)})})},handleNavTopCommand:function(t){switch(t){case"gotoAccountSetting":location.href="/pages/account/security.html"}}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-top-wrapper"},[t.userInfo?n("div",{staticClass:"nav-top-container"},[n("ul",{staticClass:"nav-top-right"},[n("li",{staticClass:"nav-top-item"},[n("el-dropdown",{on:{command:t.handleNavTopCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v("\n                      "+t._s(t.userInfo.nickname)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"gotoAccountSetting"}},[t._v("账户设置")])],1)],1)],1),t._v(" "),n("li",{staticClass:"nav-top-item",on:{click:t.logoutHandler}},[t._v("退出")]),t._v(" "),t._m(0)])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"nav-top-item"},[e("a",{attrs:{href:"/pages/user/index.html"}},[this._v("我的feth")])])}]},i=n("VU/8")(s,r,!1,function(t){n("wUdz")},"data-v-02bebf23",null);e.a=i.exports},eDbg:function(t,e,n){},kMPS:function(t,e,n){"use strict";function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var c=1e3;r&&"number"==typeof r.maxKeys&&(c=r.maxKeys);var l=t.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,f,m,v,p=t[u].replace(o,"%20"),h=p.indexOf(n);h>=0?(d=p.substr(0,h),f=p.substr(h+1)):(d=p,f=""),m=decodeURIComponent(d),v=decodeURIComponent(f),a(i,m)?s(i[m])?i[m].push(v):i[m]=[i[m],v]:i[m]=v}return i};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},wUdz:function(t,e,n){},xaZU:function(t,e,n){"use strict";function a(t,e){if(t.map)return t.map(e);for(var n=[],a=0;a<t.length;a++)n.push(e(t[a],a));return n}var s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,o){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?a(i(t),function(i){var o=encodeURIComponent(s(i))+n;return r(t[i])?a(t[i],function(t){return o+encodeURIComponent(s(t))}).join(e):o+encodeURIComponent(s(t[i]))}).join(e):o?encodeURIComponent(s(o))+n+encodeURIComponent(s(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}}},["6N2J"]);