webpackJsonp([12],{JtuV:function(e,t,r){"use strict";function s(e){r("psF2")}Object.defineProperty(t,"__esModule",{value:!0});var o=r("G3VR"),a=r("kEHT"),i={name:"login",data:function(){return{model:{loginName:"13480125810",password:"123456",isRememer:!1},rules:{loginName:[{required:!0,message:"请输入账号",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}]},error:null,loading:!1}},mounted:function(){},methods:{submit:function(e){var t=this,r=this;this.$refs[e].validate(function(e){if(!e)return!1;t.error=null,t.loading=!0;var s=Object.assign({},r.model);s.isRememer=s.isRememer?1:0,window.fetch("//api.freelog.com/v1/passport/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}).then(function(e){return t.loading=!1,e.json()}).then(function(e){0===e.ret&&0===e.errcode?(a.a.set("userInfo",e.data),location.href="/pages/user/index.html"):t.error={message:e.msg}})})}}},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrapper"},[r("div",{staticClass:"login-section"},[r("header",{staticClass:"login-header"},[e.error?r("el-alert",{attrs:{title:e.error.title,type:"warning",description:e.error.message,"show-icon":""}}):e._e()],1),e._v(" "),r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"auto-complete":"off",model:e.model,rules:e.rules,"label-width":"0"}},[r("h2",{staticClass:"heading"},[e._v("用户登录")]),e._v(" "),r("el-form-item",{attrs:{prop:"loginName"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:e.model.loginName,callback:function(t){e.$set(e.model,"loginName",t)},expression:"model.loginName"}},[r("template",{slot:"prepend"},[r("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}})])],2)],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.submit("loginForm")}},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}},[r("template",{slot:"prepend"},[r("i",{staticClass:"fa fa-unlock-alt",attrs:{"aria-hidden":"true"}})])],2)],1),e._v(" "),r("el-form-item",[r("el-checkbox",{model:{value:e.model.isRememer,callback:function(t){e.$set(e.model,"isRememer",t)},expression:"model.isRememer"}},[e._v("记住我")]),e._v(" "),r("span",{staticClass:"user-ops"},[r("a",{staticClass:"user-op",attrs:{href:"//console.freelog.com/user/reset_pw"}},[e._v("忘记密码")]),e._v(" | "),r("a",{staticClass:"user-op",attrs:{href:"//console.freelog.com/user/signup?redirect=%2F%2Fapi.freelog.com%2Fpages%2Fuser%2Findex.html"}},[e._v("注册新用户")])])],1),e._v(" "),r("el-form-item",{staticClass:"login-btns"},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:function(t){e.submit("loginForm")}}},[e._v(e._s(e.loading?"登陆中...":"登录")+"\n        ")])],1)],1)],1)])},l=[],m={render:n,staticRenderFns:l},d=m,u=r("VU/8"),c=s,p=u(i,d,!1,c,"data-v-0c61fed1",null),g=p.exports;new o.a({el:"#app",render:function(e){return e(g)}})},psF2:function(e,t,r){}},["JtuV"]);
//# sourceMappingURL=login.js.map