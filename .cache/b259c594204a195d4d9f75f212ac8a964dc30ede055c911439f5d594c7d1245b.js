{"source":"webpackJsonp([10],{\"6UCX\":function(t,e,a){\"use strict\";var r=a(\"G3VR\"),s=a(\"HkHh\"),o=a(\"NYxO\"),n={data:function(){return{}},mounted:function(){var t=this;this.user&&this.user.userId||this.$vuex.dispatch(\"checkUserSession\").then(function(e){t.user=e})},computed:Object(o.b)({user:\"session\"}),components:{NavTopBar:s.a},methods:{}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"nav-top-bar\"),t._v(\" \"),a(\"el-container\",{staticClass:\"app-container\"},[t.user?a(\"el-header\",{staticClass:\"header\"},[a(\"div\",{staticClass:\"banner-portrait inline\"},[a(\"a\",{attrs:{href:\"/pages/user/index.html\"}},[a(\"img\",{staticClass:\"portrait-img\",attrs:{src:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRb_dez7L9rZGrxliWIWRzbH6H0u0BMePCrTB6wVbLtcfrAMKII\",alt:\"\"}})])]),t._v(\" \"),a(\"div\",{staticClass:\"banner-main  inline\"},[a(\"div\",{staticClass:\"banner-main-hello\"},[a(\"p\",{staticClass:\"user-name\"},[t._v(t._s(t.user.nickname))])]),t._v(\" \"),a(\"div\",{staticClass:\"banner-main-detail\"},[a(\"div\",{staticClass:\"user-account inline\"},[a(\"label\",[t._v(\"账户： \")]),t._v(t._s(t.user.mobile||t.user.email))])])])]):t._e(),t._v(\" \"),a(\"el-main\",{staticStyle:{background:\"white\"}},[a(\"div\",{attrs:{id:\"main-app\"}})])],1)],1)},staticRenderFns:[]},i=a(\"VU/8\")(n,c,!1,function(t){a(\"LZZm\")},\"data-v-79685ecc\",null).exports,l=a(\"IcnI\");new r.a({el:\"#app\",store:l.a,render:function(t){return t(i)}});e.a=r.a},GndR:function(t,e,a){},H6LP:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=a(\"6UCX\"),s=a(\"aIHY\"),o={data:function(){var t=this;return{createEthForm:{pass:\"\",checkPass:\"\"},createEthRules:{pass:[{validator:function(e,a,r){\"\"===a?r(new Error(\"请输入密码\")):(\"\"!==t.createEthForm.checkPass&&t.$refs.createEthForm.validateField(\"checkPass\"),r())},trigger:\"blur\"},{min:6,message:\"最少6个字符\",trigger:\"blur\"}],checkPass:[{validator:function(e,a,r){\"\"===a?r(new Error(\"请再次输入密码\")):a!==t.createEthForm.pass?r(new Error(\"两次输入密码不一致!\")):r()},trigger:\"change\"},{min:6,message:\"最少6个字符\",trigger:\"blur\"}]},shouldShowCreateDialog:!1,accountTypes:Object.values(s.a).map(function(t){return t.label=t.name,t}),accountForm:{address:\"\",accountType:\"\"},accountRule:{}}},computed:{addrPlaceholder:function(){var t;switch(this.accountForm.accountType){case 1:t=\"请输入以太坊地址\";break;default:t=\"请输入外部账户地址\"}return t}},mounted:function(){},methods:{handleClose:function(t){this.$refs.createEthForm.resetFields(),t()},showCreateEthDialog:function(){this.shouldShowCreateDialog=!0},setAccountAddr:function(t){this.accountForm.address=t},createEthAccount:function(){var t=this;this.$refs.createEthForm.validate(function(e){e?t.$axios.post(\"/v1/pay/accounts/createEthAccount\",{password:t.createEthForm.pass}).then(function(e){var a=e.data;0===a.ret&&0===a.errcode?(t.setAccountAddr(a.data.address),t.$message.success(\"创建成功\")):t.$message.error(a.msg||\"创建失败\"),t.shouldShowCreateDialog=!1}):console.log(\"error submit!!\")})},createAccount:function(t){var e=this;this.$refs[t].validate(function(t){t?(console.log(t),e.$axios.post(\"/v1/pay/accounts\",e.accountForm).then(function(t){var a=t.data;0===a.ret&&0===a.errcode?(e.$message.success(\"创建成功\"),setTimeout(function(){location.href=\"/pages/account/detail.html?accountId=\"+a.data.accountId},500)):e.$message.error(a.msg||\"操作失败\")})):console.log(\"error submit!!\")})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{attrs:{id:\"main-app\"}},[a(\"div\",{staticClass:\"create-account-container\"},[a(\"div\",[a(\"el-breadcrumb\",{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[a(\"el-breadcrumb-item\",[t._v(\"账户管理\")]),t._v(\" \"),a(\"el-breadcrumb-item\",[t._v(\"创建飞致币绑定地址\")])],1)],1),t._v(\" \"),a(\"el-main\",[a(\"el-form\",{ref:\"accountForm\",attrs:{model:t.accountForm,\"status-icon\":\"\",rules:t.accountRule,\"label-width\":\"120px\"}},[a(\"el-form-item\",{attrs:{label:\"账户类型\",prop:\"accountType\",required:\"\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择账户类型\"},model:{value:t.accountForm.accountType,callback:function(e){t.$set(t.accountForm,\"accountType\",e)},expression:\"accountForm.accountType\"}},t._l(t.accountTypes,function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"外部账户地址\",prop:\"address\",required:1==t.accountForm.accountType}},[a(\"el-input\",{attrs:{placeholder:t.addrPlaceholder},model:{value:t.accountForm.address,callback:function(e){t.$set(t.accountForm,\"address\",e)},expression:\"accountForm.address\"}}),t._v(\" \"),a(\"el-popover\",{ref:\"popover\",attrs:{placement:\"top\",trigger:\"hover\",width:\"160\"}},[a(\"div\",{staticStyle:{\"text-align\":\"center\"}},[a(\"a\",{attrs:{href:\"javascript:;\"},on:{click:t.showCreateEthDialog}},[t._v(\"去创建一个\")])])]),t._v(\" \"),a(\"span\",{directives:[{name:\"popover\",rawName:\"v-popover:popover\",arg:\"popover\"}]},[t._v(\"没有以太坊地址\"),a(\"i\",{staticClass:\"el-icon-question\"})])],1),t._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.createAccount(\"accountForm\")}}},[t._v(\"提交\")])],1)],1)],1)],1),t._v(\" \"),a(\"el-dialog\",{attrs:{title:\"创建以太坊地址\",visible:t.shouldShowCreateDialog,width:\"40%\",\"before-close\":t.handleClose},on:{\"update:visible\":function(e){t.shouldShowCreateDialog=e}}},[a(\"h3\",{staticStyle:{\"margin-bottom\":\"20px\",\"text-align\":\"center\"}},[t._v(\"请设置以太坊支付密码\")]),t._v(\" \"),a(\"el-form\",{ref:\"createEthForm\",staticClass:\"demo-ruleForm\",attrs:{model:t.createEthForm,\"status-icon\":\"\",rules:t.createEthRules,\"label-width\":\"120px\"}},[a(\"el-form-item\",{attrs:{label:\"支付密码\",prop:\"pass\",required:\"\"}},[a(\"el-input\",{attrs:{type:\"password\",\"auto-complete\":\"off\"},model:{value:t.createEthForm.pass,callback:function(e){t.$set(t.createEthForm,\"pass\",e)},expression:\"createEthForm.pass\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"确认支付密码\",prop:\"checkPass\",required:\"\"}},[a(\"el-input\",{attrs:{type:\"password\",\"auto-complete\":\"off\"},model:{value:t.createEthForm.checkPass,callback:function(e){t.$set(t.createEthForm,\"checkPass\",e)},expression:\"createEthForm.checkPass\"}})],1),t._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.createEthAccount}},[t._v(\"提交\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.shouldShowCreateDialog=!1}}},[t._v(\"取消\")])],1)],1)],1)],1)},staticRenderFns:[]},c=a(\"VU/8\")(o,n,!1,function(t){a(\"GndR\")},null,null).exports;new r.a({el:\"#main-app\",render:function(t){return t(c)}})},HkHh:function(t,e,a){\"use strict\";var r=a(\"NYxO\"),s={name:\"nav-top-bar\",data:function(){return{}},computed:Object(r.b)({user:\"session\"}),mounted:function(){this.checkLoginStatus()},methods:{checkLoginStatus:function(){var t=this;this.user&&this.user.userId||this.$vuex.dispatch(\"checkUserSession\").then(function(e){t.user=e})},logoutHandler:function(){var t=this;this.$axios.get(\"/v1/passport/logout\").then(function(){t.$vuex.dispatch(\"logout\")})},handleNavTopCommand:function(t){switch(t){case\"gotoAccountSetting\":location.href=\"/pages/account/security.html\"}}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"nav-top-wrapper\"},[t.user?a(\"div\",{staticClass:\"nav-top-container\"},[a(\"ul\",{staticClass:\"nav-top-right\"},[a(\"li\",{staticClass:\"nav-top-item\"},[a(\"el-dropdown\",{on:{command:t.handleNavTopCommand}},[a(\"span\",{staticClass:\"el-dropdown-link\"},[t._v(\"\\n                      \"+t._s(t.user.nickname)),a(\"i\",{staticClass:\"el-icon-arrow-down el-icon--right\"})]),t._v(\" \"),a(\"el-dropdown-menu\",{attrs:{slot:\"dropdown\"},slot:\"dropdown\"},[a(\"el-dropdown-item\",{attrs:{command:\"gotoAccountSetting\"}},[t._v(\"账户设置\")])],1)],1)],1),t._v(\" \"),a(\"li\",{staticClass:\"nav-top-item\",on:{click:t.logoutHandler}},[t._v(\"退出\")]),t._v(\" \"),t._m(0)])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e(\"li\",{staticClass:\"nav-top-item\"},[e(\"a\",{attrs:{href:\"/pages/user/index.html\"}},[this._v(\"我的feth\")])])}]},n=a(\"VU/8\")(s,o,!1,function(t){a(\"edu7\")},\"data-v-0f5da88c\",null);e.a=n.exports},LZZm:function(t,e,a){},edu7:function(t,e,a){}},[\"H6LP\"]);"}